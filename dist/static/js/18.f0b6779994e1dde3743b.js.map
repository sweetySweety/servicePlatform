{"version":3,"sources":["webpack:///src/views/system/newspaperEditHistory.vue","webpack:///./src/views/system/newspaperEditHistory.vue?111f","webpack:///./src/views/system/newspaperEditHistory.vue"],"names":["columns","title","dataIndex","scopedSlots","customRender","_data","newspaperEditHistory","props","data","currentPage","pageSize","total","headId","this","mounted","searchheadMsgList","methods","onPageChange","pageNumber","onShowSizeChange","current","console","log","expertHeadMsg","record","_this","params","$store","state","getMoreDataPost","res","_this2","getMoreDataStringPost","obj","row","resultCount","system_newspaperEditHistory","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","pagination","onChange","customRow","customClick","dataSource","_u","key","fn","text","icon","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2HAkBA,IAAAA,IACAC,MAAA,QACAC,UAAA,aAEAD,MAAA,QACAC,UAAA,aAEAD,MAAA,OACAC,UAAA,eAEAD,MAAA,OACAC,UAAA,iBAEAD,MAAA,OACAC,UAAA,WAEAD,MAAA,KACAC,UAAA,YACAC,aAAAC,aAAA,eAEAC,KACAC,GACAC,OAAA,UACAC,KAFA,WAGA,OACAA,KAAAH,EACAL,UACAS,YAAA,EACAC,SAAA,GACAC,MAAA,GACAC,OAAAC,KAAAD,SAGAE,QAZA,WAaAD,KAAAE,qBAEAC,SAEAC,aAFA,SAEAC,GACAL,KAAAJ,YAAAS,EACAL,KAAAE,qBAGAI,iBAPA,SAOAC,EAAAV,GACAW,QAAAC,IAAAF,EAAAV,IAGAa,cAXA,SAWAC,GAAA,IAAAC,EAAAZ,KAEAa,GACAd,OAAAY,EAAAZ,QAMAC,KAAAc,OAAAC,MAAAC,gBARA,uCAQAH,EAJA,SAAAI,GACAL,EAAAV,uBAOAA,kBAxBA,WAwBA,IAAAgB,EAAAlB,KAEAa,GACAd,OAAAC,KAAAD,QAUAC,KAAAc,OAAAC,MAAAI,sBAZA,0BAYAN,EARA,SAAAI,GAEA,IAAAG,EAAAH,EAAAtB,KACAuB,EAAAvB,KAAAyB,EAAAC,IACAH,EAAApB,MAAAsB,EAAAE,YACAd,QAAAC,IAAAW,EAAAC,UCjFeE,GADEC,OANjB,WAA0B,IAAAC,EAAAzB,KAAa0B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,UAAoBL,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAAA,EAAA,WAA0DI,OAAOC,YACzMpC,SAAA4B,EAAA5B,SACAS,iBAAAmB,EAAAnB,iBACAR,MAAA2B,EAAA3B,MACAoC,SAAAT,EAAArB,cAAmC+B,UAAAV,EAAAW,YAAAjD,QAAAsC,EAAAtC,QAAAkD,WAAAZ,EAAA9B,MAAyEL,YAAAmC,EAAAa,KAAsBC,IAAA,YAAAC,GAAA,SAAAC,EAAA9B,GAA0C,OAAAiB,EAAA,YAAuBI,OAAOU,KAAA,YAAkBC,IAAKC,MAAA,SAAAC,GAAyB,OAAApB,EAAAf,cAAAC,OAAmCc,EAAAM,GAAA,gBAAsB,MAElSe,oBCHjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExD,EACA8B,GATF,EAVA,SAAA2B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/18.f0b6779994e1dde3743b.js","sourcesContent":["<template>\n  <div>\n    <div class=\"title\">报文头修订记录</div>\n    <div>\n      <a-table :pagination=\"{\n          pageSize: pageSize,\n          onShowSizeChange: onShowSizeChange,\n          total: total,\n          onChange: onPageChange}\" :customRow=\"customClick\" :columns=\"columns\" :dataSource=\"data\" >\n        <template slot=\"operation\" slot-scope=\"text, record\">\n          <a-button icon=\"download\" @click=\"expertHeadMsg(record)\">导出</a-button>\n        </template>\n      </a-table>\n    </div>\n  </div>\n</template>\n\n<script>\n  const columns = [{\n    title: '当前版本号',\n    dataIndex: 'headName'\n  }, {\n    title: '先前版本号',\n    dataIndex: 'headDesc',\n  }, {\n    title: '修改时间',\n    dataIndex: 'headRemark',\n  },{\n    title: '修订记录',\n    dataIndex: 'version.code',\n  },{\n    title: '操作用户',\n    dataIndex: 'status',\n  },{\n    title: '操作',\n    dataIndex: 'operation',\n    scopedSlots: { customRender: 'operation' }\n  }];\n  const data = [];\n  export default {\n    props:['headId'],\n    data() {\n      return {\n        data,\n        columns,\n        currentPage: 1,\n        pageSize: 10,\n        total: 10,\n        headId: this.headId\n      }\n    },\n    mounted(){\n      this.searchheadMsgList();\n    },\n    methods: {\n      // 切换分页\n      onPageChange (pageNumber) {\n        this.currentPage = pageNumber\n        this.searchheadMsgList();\n      },\n      // 改变size\n      onShowSizeChange (current, pageSize) {\n        console.log(current, pageSize)\n      },\n      // 导出记录\n      expertHeadMsg(record){\n        let url = '/excelExporter/exportHeadModifRecord';\n        let params = {\n          headId: record.headId\n        };\n        let response = (res) => {\n          this.searchheadMsgList();\n        };\n\n        this.$store.state.getMoreDataPost(url,params,response);\n      },\n\n      // 获取报文头列表\n      searchheadMsgList(){\n        let url = '/version/getModifRecord';\n        let params = {\n          headId: this.headId\n        };\n        let response = (res) => {\n\n          let obj = res.data;\n          this.data = obj.row;\n          this.total = obj.resultCount;\n          console.log(obj.row)\n        };\n\n        this.$store.state.getMoreDataStringPost(url,params,response)\n      }\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .operation_btn{\n    margin: 0 10px 10px 0;\n  }\n  .iptTitle{\n    width: 100px;\n  }\n  .title{\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom:20px;\n  }\n  .flex{\n    display: flex;\n    display:-webkit-flex;\n    align-items: center;\n  }\n  ul{\n    list-style: none;\n    padding:0;\n  }\n  li{\n    margin-right: 10px;\n  }\n  #components-layout-demo-top-side-2 .logo {\n    width: 120px;\n    height: 31px;\n    background: rgba(255,255,255,.2);\n    margin: 16px 28px 16px 0;\n    float: left;\n  }\n  .table-operations {\n    margin-bottom: 16px;\n  }\n\n  .table-operations > button {\n    margin-right: 8px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/system/newspaperEditHistory.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"报文头修订记录\")]),_vm._v(\" \"),_c('div',[_c('a-table',{attrs:{\"pagination\":{\n        pageSize: _vm.pageSize,\n        onShowSizeChange: _vm.onShowSizeChange,\n        total: _vm.total,\n        onChange: _vm.onPageChange},\"customRow\":_vm.customClick,\"columns\":_vm.columns,\"dataSource\":_vm.data},scopedSlots:_vm._u([{key:\"operation\",fn:function(text, record){return [_c('a-button',{attrs:{\"icon\":\"download\"},on:{\"click\":function($event){return _vm.expertHeadMsg(record)}}},[_vm._v(\"导出\")])]}}])})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf6e86b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/system/newspaperEditHistory.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bf6e86b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./newspaperEditHistory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newspaperEditHistory.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newspaperEditHistory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bf6e86b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./newspaperEditHistory.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bf6e86b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/newspaperEditHistory.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}