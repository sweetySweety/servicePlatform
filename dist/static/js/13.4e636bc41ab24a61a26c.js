webpackJsonp([13],{"+1ta":function(t,e){},teB4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("T452"),i=[{title:"日志类型",dataIndex:"typeStr"},{title:"日志描述",dataIndex:"detail"},{title:"操作用户操作用户",dataIndex:"userId"},{title:"日志日期",dataIndex:"time"}],o=[{detail:"1234",typeStr:"1234",userId:"jjjjjjjjjjjjjjjjdxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",time:"1234"},{detail:"1234",typeStr:"1234",userId:"jjjjjjjjjjjjjjjjdxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",time:"1234"},{detail:"1234",typeStr:"1234",userId:"jjjjjjjjjjjjjjjjdxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",time:"1234"},{detail:"1234",typeStr:"1234",userId:"jjjjjjjjjjjjjjjjdxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",time:"1234"}],n={data:function(){return{data:o,columns:i,uploadAction:s.a.baseURL+"/resourceImport/import",add_newenglish:!1,file:"",systemId:"",interfaceType:"",isStandard:"",protocol:"",priority:"",systemList:[],protocolList:[],pageSize:5,currentPage:1,total:7,selectedRowKeys:[],selectedArrStr:"",type:5}},mounted:function(){this.getLogList(1,this.pageSize),this.getSystemList()},watch:{systemId:function(){var t=this.systemId;this.getProtocolList(t)}},destroyed:function(){},methods:{onChange:function(t){var e=this.pageSize;this.currentPage=t,this.getLogList(t,e)},onShowSizeChange:function(t,e){console.log(t,e)},onSelectChange:function(t){var e=this;console.log(t);var a=[];t.map(function(t){a.push(e.data[t].id)}),this.selectedRowKeys=t,this.selectedArrStr=a.join()},beforeUpload:function(t,e){return this.file=t,!1},handleRegister:function(){var t=new FormData;console.log(this.systemId),t.append("file",this.file),t.append("systemId",this.systemId),t.append("interfaceType",this.interfaceType),t.append("isStandard",this.isStandard),t.append("protocol",this.protocol),t.append("priority",this.priority);var e=t;this.$store.state.getUploadPost("/application/register",e,function(t){},this)},getSystemList:function(){var t=this;this.$store.state.getMoreDataGet("/system/getAll",{},function(e){console.log(e.data),t.systemList=e.data})},getProtocolList:function(t){var e=this,a={systemId:t};this.$store.state.getMoreDataStringPost("/protocol/getSystemProtocol",a,function(t){e.protocolList=t.data})},getLogList:function(t,e){var a=this,s=this.type,i={pageNo:t,rowNo:e};this.$store.state.getMoreDataStringPost("/application/getRegisterLog",i,function(t){var e=t.data.row;e.map(function(t,e){a.$set(t,"key",e),t.type===s&&a.$set(t,"typeStr","注册申请导入")}),a.data=e,a.total=t.data.resultCount})},deleteOperation:function(){var t=this,e=this.selectedArrStr;e&&this.$store.state.deleteLogList(e,function(){var e=t.pageSize;t.selectedRowKeys=[],t.getLogList(1,e)})},emptyOperation:function(){var t=this,e=this.type;this.$store.state.emptyLogList(e,function(){var e=t.pageSize;t.getLogList(1,e)})}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("填写注册申请单")]),t._v(" "),a("div",[a("a-upload",{attrs:{name:"file",multiple:!0,action:"uploadAction",beforeUpload:t.beforeUpload}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v("选择文件\n          ")],1)],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("a-row",[a("a-col",{staticClass:"flex",attrs:{span:5}},[a("div",{staticClass:"ename"},[t._v("所属系统")]),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.systemId,callback:function(e){t.systemId=e},expression:"systemId"}},t._l(t.systemList,function(e){return a("a-select-option",{key:e.systemId,model:{value:e.systemId,callback:function(a){t.$set(e,"systemId",a)},expression:"item.systemId"}},[t._v(t._s(e.systemChineseName))])}),1)],1),t._v(" "),a("a-col",{staticClass:"flex",attrs:{span:5}},[a("div",{staticClass:"ename"},[t._v("接入方向")]),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.interfaceType,callback:function(e){t.interfaceType=e},expression:"interfaceType"}},[a("a-select-option",{key:3,attrs:{value:"0"}},[t._v("提供方")]),t._v(" "),a("a-select-option",{key:4,attrs:{value:"1"}},[t._v("消费方")])],1)],1),t._v(" "),a("a-col",{staticClass:"flex",attrs:{span:5}},[a("div",{staticClass:"ename"},[t._v(" 是否标准")]),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.isStandard,callback:function(e){t.isStandard=e},expression:"isStandard"}},[a("a-select-option",{key:5,attrs:{value:"0"}},[t._v("标准")]),t._v(" "),a("a-select-option",{key:6,attrs:{value:"1"}},[t._v("不标准")])],1)],1),t._v(" "),a("a-col",{staticClass:"flex",attrs:{span:5}},[a("div",{staticClass:"ename"},[t._v("采用协议")]),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.protocol,callback:function(e){t.protocol=e},expression:"protocol"}},t._l(t.protocolList,function(e){return a("a-select-option",{key:e.protocolId,attrs:{value:e.protocolId}},[t._v(t._s(e.protocolName))])}),1)],1),t._v(" "),a("a-col",{staticClass:"flex",attrs:{span:4}},[a("div",{staticClass:"ename"},[t._v("优先级")]),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[a("a-select-option",{key:9,attrs:{value:"1"}},[t._v("低 ")]),t._v(" "),a("a-select-option",{key:10,attrs:{value:"2"}},[t._v("中 ")]),t._v(" "),a("a-select-option",{key:11,attrs:{value:"3"}},[t._v("高 ")])],1)],1)],1),t._v(" "),a("a-row",[a("a-button",{attrs:{icon:"save",type:"primary"},on:{click:t.handleRegister}},[t._v("提交")])],1)],1),t._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("导入日志")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:t.deleteOperation}},[t._v("删除")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:t.emptyOperation}},[t._v("清空")])],1),t._v(" "),a("div",{staticClass:"scroll_table_border"},[a("a-table",{attrs:{rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},pagination:{pageSize:t.pageSize,onShowSizeChange:t.onShowSizeChange,total:t.total,onChange:t.onChange},columns:t.columns,dataSource:t.data}})],1)])},staticRenderFns:[]};var l=a("VU/8")(n,x,!1,function(t){a("+1ta")},"data-v-e76f4968",null);e.default=l.exports}});
//# sourceMappingURL=13.4e636bc41ab24a61a26c.js.map