webpackJsonp([60],{"2BRk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),s=a("PHrY"),l=[{title:"中文名称",dataIndex:"funcName",scopedSlots:{customRender:"funcName"}},{title:"名称",dataIndex:"name"},{title:"参数",dataIndex:"params"},{title:"说明",dataIndex:"des"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],o=[{title:"参数名称",dataIndex:"attrParamName",scopedSlots:{customRender:"attrParamName"}},{title:"默认值",dataIndex:"defaultValue"},{title:"排序",dataIndex:"no"},{title:"说明",dataIndex:"explain"}],c={data:function(){return{data:[],attrData:[],columns:l,attrColumns:o,title:"",add_visible:!1,chineseName:"",name:"",desc:"",attrPshow:!1,searchCnName:"",searchName:"",searchdesc:"",ischangeone:0,ischoose:0,delArray:"",addnewParams:!1,parmName:"",defaultValue:"",xNo:"",paramDesc:"",attFunctionId:"",pageSize:5,currentPage:1,total:7,isEdit:0}},created:function(){this.getAllattr()},computed:{rowSelection:function(){var t=this,e=this;this.selectedRowKeys;return{onChange:function(a,n){for(var i in console.log("selectedRowKeys: "+a,"selectedRows: ",n),0==n.length?e.ischoose=0:e.ischoose=1,e.delArray="",n)e.delArray+=n[i].id+",";console.log(e.delArray),1==n.length?(t.ischangeone=1,e.chineseName=n[0].funcName,e.name=n[0].name,e.desc=n[0].des):t.ischangeone=0},getCheckboxProps:function(t){return{props:{disabled:"Disabled User"===t.name,name:t.name}}}}}},methods:{onChange:function(t){var e=this.pageSize;this.currentPage=t,this.getLogList(t,e)},onShowSizeChange:function(t,e){console.log(t,e)},open:function(){this.add_visible=!0,this.chineseName="",this.name="",this.desc="",this.isEdit=0,this.title="新增字段"},getAllattr:function(){var t=this;Object(s.y)({pageNo:this.currentPage,pageSize:this.pageSize,name:t.searchCnName,funcName:t.searchName,des:t.searchdesc}).then(function(e){200==e.returnCode&&(t.data=e.data.rows,t.total=e.data.total)})},getAllattrParams:function(t){var e=this;Object(s.E)({attFunctionId:t}).then(function(t){200==t.returnCode&&(e.attrData=t.data)})},edit:function(){this.add_visible=!0,this.title="修改字段",this.isEdit=1},addParams:function(t){this.addnewParams=!0,this.parmName="",this.defaultValue="",this.xNo="",this.paramDesc="",this.attFunctionId=t,this.title="新增参数"},editParams:function(t){this.attrPshow=!0,this.title="修改参数",this.getAllattrParams(t)},delParams:function(){var t=this,e=this.delArray,a={attFuncParamIds:e=e.substring(0,e.length-1)};this.$store.state.getMoreDataDelete("/attFuncParam/deletes",a,function(a){t.getAllattrParams(e)})},saveAttr:function(){var t=this;Object(s.h)({name:this.parmName,defaultValue:this.defaultValue,seq:this.xNo,funcId:this.attFunctionId}).then(function(e){200==e.returnCode&&(t.addnewParams=!1,t.getAllattr())})},editSubmit:function(){var t=this,e=t.delArray,a={id:e=e.substring(0,e.length-1),name:this.name,funcName:this.chineseName,des:this.desc};this.$store.state.getMoreDataPost("/attFunction/modify",a,function(e){t.add_visible=!1,t.getAllattr()})},save:function(){if(0==this.isEdit){var t=this;Object(s.a)({name:t.name,funcName:t.chineseName,des:t.desc}).then(function(e){200==e.returnCode&&(t.add_visible=!1,t.getAllattr())})}else this.editSubmit()},attrDelete:function(){var t=this,e=t.delArray;e=e.substring(0,e.length-1),Object(s.p)({functionIds:e}).then(function(e){console.log(e),setTimeout(function(){t.getAllattr()},1e3)})},showConfirm:function(){var t=this;this.$confirm({title:"提示",content:"确定要删除选中数据？",onOk:function(){return t.attrDelete(),new i.a(function(t,e){setTimeout(Math.random()>.5?t:e,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("条件搜索")]),t._v(" "),a("ul",{staticClass:"flex"},[a("li",{staticClass:"flex"},[t._v("\n            中文名称\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入中文名称"},model:{value:t.searchCnName,callback:function(e){t.searchCnName=e},expression:"searchCnName"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n            名称\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入名称"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n            说明\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入说明"},model:{value:t.searchdesc,callback:function(e){t.searchdesc=e},expression:"searchdesc"}})],1),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:t.getAllattr}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("字段处理办法")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:t.open}},[t._v("新增")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit",disabled:0==t.ischangeone},on:{click:t.edit}},[t._v("修改")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",disabled:0==t.ischoose},on:{click:t.showConfirm}},[t._v("删除")])],1),t._v(" "),a("div",[a("a-table",{attrs:{pagination:{pageSize:t.pageSize,onShowSizeChange:t.onShowSizeChange,total:t.total,onChange:t.onChange},rowSelection:t.rowSelection,columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"name",fn:function(e){return a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}},{key:"action",fn:function(e,n){return a("span",{},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addParams(n.id)}}},[t._v("[添加参数]")]),t._v(" "),a("a-divider",{attrs:{type:"vertical"}}),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.editParams(n.id)}}},[t._v("[修改参数]")])],1)}}])})],1),t._v(" "),a("a-modal",{attrs:{title:"添加参数",okText:"保存",cancelText:"取消"},on:{ok:t.saveAttr},model:{value:t.addnewParams,callback:function(e){t.addnewParams=e},expression:"addnewParams"}},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         参数名称：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入参数名称"},model:{value:t.parmName,callback:function(e){t.parmName=e},expression:"parmName"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         默认值： "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入默认值"},model:{value:t.defaultValue,callback:function(e){t.defaultValue=e},expression:"defaultValue"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         序号：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入序号"},model:{value:t.xNo,callback:function(e){t.xNo=e},expression:"xNo"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         描述：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入描述"},model:{value:t.paramDesc,callback:function(e){t.paramDesc=e},expression:"paramDesc"}})],1)])]),t._v(" "),a("a-modal",{attrs:{title:t.title,okText:"保存",cancelText:"取消"},on:{ok:t.save},model:{value:t.add_visible,callback:function(e){t.add_visible=e},expression:"add_visible"}},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         中文名称：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入中文名称"},model:{value:t.chineseName,callback:function(e){t.chineseName=e},expression:"chineseName"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         名称：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         描述：  "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入描述"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)])]),t._v(" "),a("a-modal",{attrs:{title:"参数列表",footer:null},model:{value:t.attrPshow,callback:function(e){t.attrPshow=e},expression:"attrPshow"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("a-button",{attrs:{icon:"close"},on:{click:t.delParams}},[t._v("删除")])],1),t._v(" "),a("a-table",{attrs:{rowSelection:t.rowSelection,columns:t.attrColumns,dataSource:t.attrData},scopedSlots:t._u([{key:"attrParamName",fn:function(e){return a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}}])})],1)],1)},staticRenderFns:[]};var d=a("VU/8")(c,r,!1,function(t){a("FoHj")},"data-v-1a86a282",null);e.default=d.exports},FoHj:function(t,e){}});
//# sourceMappingURL=60.a442f4b4be866977022f.js.map