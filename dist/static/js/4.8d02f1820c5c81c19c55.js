webpackJsonp([4,32,50],{"5fLc":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{title:"用户名称",dataIndex:"userName"},{title:"用户ID",dataIndex:"userId"},{title:"用户角色",dataIndex:"userRole"},{title:"当前任务总数",dataIndex:"total"},{title:"本周完成数",dataIndex:"weekTotal"},{title:"历史完成数",dataIndex:"hisTotal"}],o={data:function(){var e=this;return{allUserRoles:[],columns:a,userDetail:"",rowSelection:{type:"radio",onSelect:function(t,s){console.log(t),e.userDetail=t}},userDate:[],allRoles:[],userName:"",userId:"",userRole:""}},computed:{},mounted:function(){this.getSomeUser(),this.getAllRoles(),this.selectUserBy("","","")},methods:{goTo:function(){this.$router.push({path:"/platform"})},getSomeUser:function(){var e=this;this.$store.state.getMoreDataGet("/user/getSomeUser",{},function(t){e.userDate=t.data})},getAllRoles:function(){var e=this;this.$store.state.getMoreDataGet("/role/getAllRoles",{},function(t){e.allRoles=t.data})},changeName:function(e){this.userName=e},changeId:function(e){this.userId=e},changeRole:function(e){this.userRole=e},inquire:function(){this.selectUserBy(this.userName,this.userId,this.userRole)},empty:function(){this.userName="",this.userId="",this.userRole=""},selectUserBy:function(e,t,s){var a=this,o={userName:e,userId:t,userRole:s};this.$store.state.getMoreDataGet("/pgm/selectUserBy",o,function(e){var t=e.data;t.map(function(e,t){a.$set(e,"key",t)}),a.allUserRoles=t})},openHistory:function(e,t,s){if(""!=this.userDetail&&void 0!=this.userDetail){var a={userName:e,userId:t,userRole:s};this.$emit("goHistory",a)}else this.$message.warn("请选择用户")},openCurrent:function(e,t,s){if(""!=this.userDetail&&void 0!=this.userDetail){var a={userName:e,userId:t,userRole:s};this.$emit("goCurrent",a)}else this.$message.warn("请选择用户")}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("查询条件")]),e._v(" "),s("ul",{staticClass:"flex"},[s("li",{staticClass:"flex"},[e._v("\n              用户名称 \n              "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changeName},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}},e._l(e.userDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n              用户Id\n              "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changeId},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userDate,function(t,a){return s("a-select-option",{key:a},[e._v(e._s(a))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n              用户角色\n              "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changeRole},model:{value:e.userRole,callback:function(t){e.userRole=t},expression:"userRole"}},e._l(e.allRoles,function(t){return s("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:e.inquire}},[e._v("查询")]),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",type:"primary"},on:{click:e.empty}},[e._v("重置")])],1),e._v(" "),s("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("资源列表")]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}},[s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:function(t){return e.openHistory(e.userDetail.userName,e.userDetail.userId,e.userDetail.userRole)}}},[e._v("历史任务")]),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:function(t){return e.openCurrent(e.userDetail.userName,e.userDetail.userId,e.userDetail.userRole)}}},[e._v("当前任务")]),e._v(" "),s("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索"}})],1),e._v(" "),s("div",[s("a-table",{attrs:{rowSelection:e.rowSelection,columns:e.columns,dataSource:e.allUserRoles},scopedSlots:e._u([{key:"name",fn:function(t){return s("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])}}])})],1)])},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(e){s("G9bJ")},"data-v-2d58f3de",null).exports,n=s("XyW5"),l=s("BJF/"),c={data:function(){var e=[{title:"资源管理主页",content:"",key:"1"}];return{activeKey:e[0].key,panes:e,newTabIndex:0,historyData:"",currentData:""}},components:{resourceManage:i,historyResource:n.default,currentResource:l.default},computed:{},methods:{goHistory:function(e){this.historyData=e;var t=this.panes,s="/historyResource",a=0;t.map(function(e,t){e.key==s&&(a=1)}),1==a?this.activeKey=s:(t.push({title:e.userName+"-历史任务详情",content:"Content of new Tab "+s,key:s}),this.panes=t,this.activeKey=s)},goCurrent:function(e){this.currentData=e;var t=this.panes,s="/currentResource",a=0;t.map(function(e,t){e.key==s&&(a=1)}),1==a?this.activeKey=s:(t.push({title:e.userName+"-当前任务详情",content:"Content of new Tab "+s,key:s}),this.panes=t,this.activeKey=s)},onChange:function(e){if("1"==e){this.$router.push("/myworkspace/resource")}else this.$router.push(e)},onEdit:function(e,t){this[t](e)},remove:function(e){var t=this.activeKey,s=void 0;this.panes.forEach(function(t,a){t.key===e&&(s=a-1)});var a=this.panes.filter(function(t){return t.key!==e});s>=0&&t===e&&(t=a[s].key),this.panes=a,this.activeKey=t}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-tabs",{style:{margin:0,minHeight:"280px",width:"100%"},attrs:{type:"editable-card",hideAdd:""},on:{edit:e.onEdit,change:e.onChange},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},e._l(e.panes,function(t){return s("a-tab-pane",{key:t.key,staticStyle:{"overflow-y":"scroll",maxHeight:"'100px"},attrs:{tab:t.title,closable:"1"!=t.key}},["1"==t.key?s("resource-manage",{on:{goHistory:e.goHistory,goCurrent:e.goCurrent}}):"/historyResource"==t.key?s("history-resource",{attrs:{propshistory:e.historyData}}):"/currentResource"==t.key?s("current-resource",{attrs:{propscurrent:e.currentData}}):e._e()],1)}),1)],1)},staticRenderFns:[]};var u=s("VU/8")(c,d,!1,function(e){s("IfCd")},"data-v-c96d4e5e",null);t.default=u.exports},"BJF/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{title:"调用方",dataIndex:"consumer"},{title:"提供方",dataIndex:"provider"},{title:"服务场景码",dataIndex:"soId"},{title:"交易码",dataIndex:"ecode"},{title:"服务治理人员",dataIndex:"govPerson"},{title:"服务开发人员",dataIndex:"devPerson"},{title:"当前阶段",dataIndex:"stage"},{title:"交易记录",dataIndex:"info"},{title:"状态",dataIndex:"status"}],o={props:{propscurrent:String},data:function(){return{columns:a,peopleDate:[],govDate:[],devDate:"",soIdDate:[],stageDate:[],providerDate:[],govPerson:"",devPerson:"",soId:"",stage:"",provider:"",deleteList:[],deleteModal:!1}},computed:{rowSelection:function(){var e=this;this.selectedRowKeys;return{onChange:function(t,s){console.log("selectedRowKeys: "+t,"selectedRows: ",s);for(var a=0;a<t.length;a++)e.deleteList[a]={id:s[a].ids,role:e.propscurrent.userRole,soid:s[a].soId}},getCheckboxProps:function(e){return{props:{disabled:"Disabled User"===e.name,name:e.name}}}}}},mounted:function(){this.getServiceGovAll(),this.getDeveloper(),this.getAllSoId(),this.getProjects(),this.getAllSys(),this.getUserDetail(this.propscurrent.userRole,this.propscurrent.userName,"current")},methods:{goTo:function(){this.$router.push({path:"/platform"})},getServiceGovAll:function(){var e=this;this.$store.state.getMoreDataGet("/user/getServiceGovAll",{},function(t){e.govDate=t.data})},getDeveloper:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getDeveloper",{},function(t){e.devDate=t.data})},getAllSoId:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getAllSoId",{},function(t){e.soIdDate=t.data})},getProjects:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getProjects",{},function(t){e.stageDate=t.data})},getAllSys:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getAllSys",{},function(t){e.providerDate=t.data})},getUserDetail:function(e,t,s){var a=this,o={userRole:e,userName:t,flag:s};this.$store.state.getMoreDataGet("/pgm/getUserDetail",o,function(e){a.peopleDate=e.data})},selectPeopleDetailBy:function(e,t,s,a,o,r,i,n,l){var c=this,d={roleName:e,userId:t,userName:s,gov:a,dev:o,soId:r,stage:i,system:n,flag:l};this.$store.state.getMoreDataGet("/pgm/selectPeopleDetailBy",d,function(e){c.peopleDate=e.data})},deleteModalshow:function(){this.deleteModal=!0},deleteByIds:function(){var e=this;if(""!=this.deleteList&&void 0!=this.deleteList){var t=this.deleteList;this.$store.state.getMoreDataPost("/pgm/batchDeleteTask",t,function(t){e.deleteModal=!1,e.selectPeopleDetailBy(e.propscurrent.userRole,e.propscurrent.userId,e.propscurrent.userName,e.govPerson,e.devPerson,e.soId,e.stage,e.provider,"current")})}else this.$message.warn("请选择用户")},changegovPerson:function(e){this.govPerson=e.name},changedevPerson:function(e){this.devPerson=e},changesoId:function(e){this.soId=e.soId},changestage:function(e){this.stage=e.proState},changeprovider:function(e){this.provider=e.systemChineseName},inquire:function(){this.selectPeopleDetailBy(this.propscurrent.userRole,this.propscurrent.userId,this.propscurrent.userName,this.govPerson,this.devPerson,this.soId,this.stage,this.provider,"current")},empty:function(){this.govPerson="",this.devPerson="",this.soId="",this.stage="",this.provider=""}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("查询条件")]),e._v(" "),s("ul",{staticClass:"flex"},[s("li",{staticClass:"flex"},[e._v("\n          服务治理人员\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changegovPerson},model:{value:e.govPerson,callback:function(t){e.govPerson=t},expression:"govPerson"}},e._l(e.govDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.name))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          服务开发人员\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changedevPerson},model:{value:e.devPerson,callback:function(t){e.devPerson=t},expression:"devPerson"}},e._l(e.devDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          服务场景码\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changesoId},model:{value:e.soId,callback:function(t){e.soId=t},expression:"soId"}},e._l(e.soIdDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.soId))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          当前状态\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changestage},model:{value:e.stage,callback:function(t){e.stage=t},expression:"stage"}},e._l(e.stageDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.proState))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          提供方系统\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changeprovider},model:{value:e.provider,callback:function(t){e.provider=t},expression:"provider"}},e._l(e.providerDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.systemChineseName))])}),1)],1),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:e.inquire}},[e._v("查询")]),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",type:"primary"},on:{click:e.empty}},[e._v("重置")])],1),e._v(" "),s("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("资源列表")]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}},[s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:e.deleteModalshow}},[e._v("任务删除")]),e._v(" "),s("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索"}})],1),e._v(" "),s("div",[s("a-table",{attrs:{rowSelection:e.rowSelection,columns:e.columns,dataSource:e.peopleDate},scopedSlots:e._u([{key:"name",fn:function(t){return s("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])}}])})],1),e._v(" "),s("a-modal",{attrs:{title:"提示",okText:"确认",cancelText:"取消"},on:{ok:e.deleteByIds},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[s("div",[e._v("该操作会删除所有相关历史变更记录，您确认要删除吗？")])])],1)},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(e){s("tslM")},"data-v-6bf6b4a2",null);t.default=i.exports},G9bJ:function(e,t){},IfCd:function(e,t){},XyW5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{title:"调用方",dataIndex:"consumer"},{title:"提供方",dataIndex:"provider"},{title:"服务场景码",dataIndex:"soId"},{title:"交易码",dataIndex:"ecode"},{title:"服务治理人员",dataIndex:"govPerson"},{title:"服务开发人员",dataIndex:"devPerson"},{title:"当前阶段",dataIndex:"stage"},{title:"交易记录",dataIndex:"info"},{title:"状态",dataIndex:"status"}],o={props:{propshistory:String},data:function(){return{columns:a,peopleDate:[],govDate:[],devDate:"",soIdDate:[],stageDate:[],providerDate:[],govPerson:"",devPerson:"",soId:"",stage:"",provider:"",deleteList:[],deleteModal:!1}},computed:{rowSelection:function(){var e=this;this.selectedRowKeys;return{onChange:function(t,s){console.log("selectedRowKeys: "+t,"selectedRows: ",s);for(var a=0;a<t.length;a++)e.deleteList[a]={id:s[a].ids,role:e.propshistory.userRole,soid:s[a].soId}},getCheckboxProps:function(e){return{props:{disabled:"Disabled User"===e.name,name:e.name}}}}}},mounted:function(){this.getServiceGovAll(),this.getDeveloper(),this.getAllSoId(),this.getProjects(),this.getAllSys(),this.getUserDetail(this.propshistory.userRole,this.propshistory.userName,"history")},methods:{goTo:function(){this.$router.push({path:"/platform"})},getServiceGovAll:function(){var e=this;this.$store.state.getMoreDataGet("/user/getServiceGovAll",{},function(t){e.govDate=t.data})},getDeveloper:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getDeveloper",{},function(t){e.devDate=t.data})},getAllSoId:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getAllSoId",{},function(t){e.soIdDate=t.data})},getProjects:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getProjects",{},function(t){e.stageDate=t.data})},getAllSys:function(){var e=this;this.$store.state.getMoreDataGet("/pcc/getAllSys",{},function(t){e.providerDate=t.data})},getUserDetail:function(e,t,s){var a=this,o={userRole:e,userName:t,flag:s};this.$store.state.getMoreDataGet("/pgm/getUserDetail",o,function(e){a.peopleDate=e.data})},selectPeopleDetailBy:function(e,t,s,a,o,r,i,n,l){var c=this,d={roleName:e,userId:t,userName:s,gov:a,dev:o,soId:r,stage:i,system:n,flag:l};this.$store.state.getMoreDataGet("/pgm/selectPeopleDetailBy",d,function(e){c.peopleDate=e.data})},deleteModalshow:function(){this.deleteModal=!0},deleteByIds:function(){var e=this;if(""!=this.deleteList&&void 0!=this.deleteList){var t=this.deleteList;this.$store.state.getMoreDataPost("/pgm/batchDeleteTask",t,function(t){t.data;e.deleteModal=!1,e.selectPeopleDetailBy(e.propshistory.userRole,e.propshistory.userId,e.propshistory.userName,e.govPerson,e.devPerson,e.soId,e.stage,e.provider,"history")})}else this.$message.warn("请选择用户")},changegovPerson:function(e){this.govPerson=e.name},changedevPerson:function(e){this.devPerson=e},changesoId:function(e){this.soId=e.soId},changestage:function(e){this.stage=e.proState},changeprovider:function(e){this.provider=e.systemChineseName},inquire:function(){this.selectPeopleDetailBy(this.propshistory.userRole,this.propshistory.userId,this.propshistory.userName,this.govPerson,this.devPerson,this.soId,this.stage,this.provider,"history")},empty:function(){this.govPerson="",this.devPerson="",this.soId="",this.stage="",this.provider=""}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[e._v("查询条件")]),e._v(" "),s("ul",{staticClass:"flex"},[s("li",{staticClass:"flex"},[e._v("\n          服务治理人员\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changegovPerson},model:{value:e.govPerson,callback:function(t){e.govPerson=t},expression:"govPerson"}},e._l(e.govDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.name))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          服务开发人员\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changedevPerson},model:{value:e.devPerson,callback:function(t){e.devPerson=t},expression:"devPerson"}},e._l(e.devDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          服务场景码\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changesoId},model:{value:e.soId,callback:function(t){e.soId=t},expression:"soId"}},e._l(e.soIdDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.soId))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          当前状态\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changestage},model:{value:e.stage,callback:function(t){e.stage=t},expression:"stage"}},e._l(e.stageDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.proState))])}),1)],1),e._v(" "),s("li",{staticClass:"flex"},[e._v("\n          提供方系统\n          "),s("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:e.changeprovider},model:{value:e.provider,callback:function(t){e.provider=t},expression:"provider"}},e._l(e.providerDate,function(t){return s("a-select-option",{key:t},[e._v(e._s(t.systemChineseName))])}),1)],1),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:e.inquire}},[e._v("查询")]),e._v(" "),s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",type:"primary"},on:{click:e.empty}},[e._v("重置")])],1),e._v(" "),s("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("资源列表")]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}},[s("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:e.deleteModalshow}},[e._v("任务删除")]),e._v(" "),s("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索"}})],1),e._v(" "),s("div",[s("a-table",{attrs:{rowSelection:e.rowSelection,columns:e.columns,dataSource:e.peopleDate},scopedSlots:e._u([{key:"name",fn:function(t){return s("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])}}])})],1),e._v(" "),s("a-modal",{attrs:{title:"提示",okText:"确认",cancelText:"取消"},on:{ok:e.deleteByIds},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[s("div",[e._v("该操作会删除所有相关历史变更记录，您确认要删除吗？")])])],1)},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(e){s("aUWG")},"data-v-3cb099f3",null);t.default=i.exports},aUWG:function(e,t){},tslM:function(e,t){}});
//# sourceMappingURL=4.8d02f1820c5c81c19c55.js.map