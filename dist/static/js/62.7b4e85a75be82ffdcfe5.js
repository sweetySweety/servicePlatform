webpackJsonp([62],{I5TD:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=[{title:"代码名称",dataIndex:"name"},{title:"是否标准代码",dataIndex:"isStandard"},{title:"数据来源",dataIndex:"dataSource"},{title:"版本号",dataIndex:"version"},{title:"操作用户",dataIndex:"optUser"},{title:"操作时间",dataIndex:"optDate"}],n=[{dataSource:"ttt",id:"4028ab956f40e949016f40ea9cd10001",isMaster:null,isStandard:"1",name:"xxdcc",optDate:"2019-12-26 14:33:55",optUser:"admin",processId:null,remark:"从代码name",status:"1",version:null}],i={name:"dataReview",props:["enumId"],data:function(){return{chineseName:"",data:n,columns:s,selectedRowKeys:[],selectedArrStr:"",pageSize:5,currentPage:1,total:7,isSelected:!0,addNewModel:!1,currentenumId:this.enumId,dataName:"",dataIsStandard:"",dataIsMaster:0,dataSource:"",dataStatus:"",dataRemark:"",sDataName:"",sDataIsStandard:"",sDataSource:"",sDataStatus:"",sDataRemark:""}},mounted:function(){this.getList(),this.getDataInfo()},methods:{getDataInfo:function(){var t=this,a={id:this.currentenumId};this.$store.state.getMoreDataStringPost("/enum/getEnumByMasterId",a,function(a){var e=a.data;t.sDataName=e.name,t.sDataIsStandard=e.isStandard,t.sDataSource=e.dataSource,t.sDataStatus=e.status,t.sDataRemark=e.remark})},goMasterData:function(){this.getSlaveId(),this.$emit("goMasterData","")},goRepresentation:function(){1==this.selectedRowKeys.length?(this.getSlaveId(),this.$emit("goRepresentation","")):this.$message.warn("不能同时选中多个列表进行操作")},getSlaveId:function(){this.$emit("getSlaveId",this.selectedArrStr)},goFromData:function(){this.getSlaveId(),this.$emit("goFromData","")},showModel:function(){this.addNewModel=!0},add_submit:function(){var t=this,a={name:this.dataName,isStandard:this.dataIsStandard,isMaster:this.dataIsMaster,dataSource:this.dataSource,status:this.dataStatus,remark:this.dataRemark,masterId:this.currentenumId};this.$store.state.getMoreDataStringPost("/enum/addSlaveEnum",a,function(a){t.getList(),t.addNewModel=!1})},getList:function(){var t=this,a={id:this.currentenumId};this.$store.state.getMoreDataStringPost("/enum/getSlaveByMasterId",a,function(a){t.data=a.data})},onChange:function(t){this.currentPage=t,this.getList()},onShowSizeChange:function(t,a){console.log(t,a)},onSelectChange:function(t){var a=this,e=[];t.map(function(t){e.push(a.data[t].id)}),this.selectedRowKeys=t,this.selectedArrStr=e.join(),0!=t.length?this.isSelected=!1:this.isSelected=!0},deleteOperation:function(){var t=this,a={enumId:this.selectedArrStr};this.$store.state.getMoreDataDelete("/enum/deleteEnumById",a,function(a){t.getList()})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"content_ content_top"},[e("div",{staticClass:"title_"},[t._v("主代码")]),t._v(" "),e("a-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[e("a-col",{staticClass:"flex",attrs:{span:5}},[e("div",{staticClass:"data_title"},[t._v("中文名称")]),t._v(" "),e("a-input",{staticClass:"search_ipt",attrs:{placeholder:"请输入中文名称"},model:{value:t.sDataRemark,callback:function(a){t.sDataRemark=a},expression:"sDataRemark"}})],1),t._v(" "),e("a-col",{staticClass:"flex",attrs:{span:5}},[e("div",{staticClass:"data_title"},[t._v("代码名称")]),t._v(" "),e("a-input",{staticClass:"search_ipt",attrs:{placeholder:"请输入名称"},model:{value:t.sDataName,callback:function(a){t.sDataName=a},expression:"sDataName"}})],1),t._v(" "),e("a-col",{staticClass:"flex",attrs:{span:5}},[e("div",{staticClass:"data_title"},[t._v("是否标准代码")]),t._v(" "),e("a-select",{staticClass:"search_ipt",attrs:{defaultValue:""},model:{value:t.sDataIsStandard,callback:function(a){t.sDataIsStandard=a},expression:"sDataIsStandard"}},[e("a-select-option",{attrs:{value:"1"}},[t._v("\n              是\n            ")]),t._v(" "),e("a-select-option",{attrs:{value:"0"}},[t._v("\n              否\n            ")])],1)],1),t._v(" "),e("a-col",{staticClass:"flex",attrs:{span:5}},[e("div",{staticClass:"data_title"},[t._v("数据来源")]),t._v(" "),e("a-input",{staticClass:"search_ipt",attrs:{placeholder:"请输入来源"},model:{value:t.sDataSource,callback:function(a){t.sDataSource=a},expression:"sDataSource"}})],1),t._v(" "),e("a-col",{attrs:{span:4}},[e("a-button",{staticClass:"ant-btn-primary",on:{click:t.goMasterData}},[t._v("主代码值")])],1)],1)],1),t._v(" "),e("div",{staticClass:"content_ content_bottom"},[e("div",{staticClass:"title_"},[t._v("从代码列表")]),t._v(" "),e("div",[e("a-button",{staticClass:"operation_btn",attrs:{icon:"delete",disabled:t.isSelected},on:{click:t.deleteOperation}},[t._v("删除")]),t._v(" "),e("a-button",{staticClass:"operation_btn",attrs:{icon:"plus"},on:{click:t.showModel}},[t._v("新增")]),t._v(" "),e("a-button",{staticClass:"operation_btn",attrs:{icon:"edit",disabled:t.isSelected},on:{click:t.goFromData}},[t._v("维护")]),t._v(" "),e("a-button",{staticClass:"operation_btn",attrs:{icon:"plus",disabled:t.isSelected},on:{click:t.goRepresentation}},[t._v("枚举映射")])],1),t._v(" "),e("div",{staticClass:"scroll_table_border"},[e("a-table",{attrs:{rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,dataSource:t.data}})],1)]),t._v(" "),e("a-modal",{attrs:{title:"新增从代码",okText:"保存",cancelText:"取消"},on:{ok:t.add_submit},model:{value:t.addNewModel,callback:function(a){t.addNewModel=a},expression:"addNewModel"}},[e("ul",[e("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n          代码名称：  "),e("a-input",{staticClass:"add_ipt",attrs:{placeholder:"请输入名称"},model:{value:t.dataName,callback:function(a){t.dataName=a},expression:"dataName"}})],1),t._v(" "),e("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n          中文名称：  "),e("a-input",{staticClass:"add_ipt",attrs:{placeholder:"请输入中文名称"},model:{value:t.dataRemark,callback:function(a){t.dataRemark=a},expression:"dataRemark"}})],1),t._v(" "),e("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n          是否标准代码：\n          "),e("a-select",{staticClass:"add_ipt",attrs:{defaultValue:""},model:{value:t.dataIsStandard,callback:function(a){t.dataIsStandard=a},expression:"dataIsStandard"}},[e("a-select-option",{attrs:{value:"1"}},[t._v("\n              是\n            ")]),t._v(" "),e("a-select-option",{attrs:{value:"0"}},[t._v("\n              否\n            ")])],1)],1),t._v(" "),e("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n          数据来源：  "),e("a-input",{staticClass:"add_ipt",attrs:{placeholder:"请输入数据来源"},model:{value:t.dataSource,callback:function(a){t.dataSource=a},expression:"dataSource"}})],1),t._v(" "),e("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n          代码状态：\n          "),e("a-select",{staticClass:"add_ipt",attrs:{defaultValue:""},model:{value:t.dataStatus,callback:function(a){t.dataStatus=a},expression:"dataStatus"}},[e("a-select-option",{attrs:{value:"1"}},[t._v("\n              使用\n            ")]),t._v(" "),e("a-select-option",{attrs:{value:"0"}},[t._v("\n              退役\n            ")])],1)],1)])])],1)},staticRenderFns:[]};var d=e("VU/8")(i,l,!1,function(t){e("y3f2")},"data-v-11bcd945",null);a.default=d.exports},y3f2:function(t,a){}});
//# sourceMappingURL=62.7b4e85a75be82ffdcfe5.js.map