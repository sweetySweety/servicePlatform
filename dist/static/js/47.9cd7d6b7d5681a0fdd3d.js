webpackJsonp([47],{ZW0x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("T452"),n=[{title:"日志类型",dataIndex:"typeStr"},{title:"日志描述",dataIndex:"detail"},{title:"操作用户",dataIndex:"userId"},{title:"日志日期",dataIndex:"time"}],o=[],s={data:function(){return{data:o,columns:n,uploadAction:i.a.baseURL+"/resourceImport/import",add_newenglish:!1,fileList:[],select:"y",file:"",uploading:!1,selectedRowKeys:[],pageSize:5,currentPage:1,total:7,selectedArrStr:"",type:2}},computed:{},mounted:function(){var t=this.pageSize;this.getLogList(1,t)},destroyed:function(){},methods:{onChange:function(t){var e=this.pageSize;this.currentPage=t,this.getLogList(t,e)},onShowSizeChange:function(t,e){console.log(t,e)},onSelectChange:function(t){var e=this,a=[];t.map(function(t){a.push(e.data[t].id)}),this.selectedRowKeys=t,this.selectedArrStr=a.join()},getLogList:function(t,e){var a=this,i=this.type,n={pageNumber:t,pageSize:e,type:i};this.$store.state.getMoreDataGet("/log/getFileImportLog",n,function(t){var e=t.data.rows;e.map(function(t,e){a.$set(t,"key",e),t.type===i&&a.$set(t,"typeStr","数据字典导入")}),a.data=e,a.total=t.data.total})},deleteOperation:function(){var t=this,e=this.selectedArrStr;this.$store.state.deleteLogList(e,function(){var e=t.pageSize;t.selectedRowKeys=[],t.getLogList(1,e)})},emptyOperation:function(){var t=this,e=this.type;this.$store.state.emptyLogList(e,function(){var e=t.pageSize;t.getLogList(1,e)})},goTo:function(){this.$router.push({path:"/platform"})},addnew:function(){this.add_newenglish=!0},handleChange:function(t){this.select=t},beforeUpload:function(t,e){return this.file=t,this.fileList=e,!1},handleUpload:function(){var t=new FormData;t.append("file",this.file),t.append("select",this.select);var e=t;this.$store.state.getUploadPost("/interfaceheadImport/headImport",e,function(t){console.log(t)},this)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("导入报文头Excel")]),t._v(" "),a("div",{staticStyle:{display:"-webkit-flex"}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:"uploadAction",beforeUpload:t.beforeUpload}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" 选择文件\n        ")],1)],1),t._v(" "),a("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{defaultValue:"覆盖"},on:{change:t.handleChange}},[a("a-select-option",{attrs:{value:"y"}},[t._v("覆盖原报文头")]),t._v(" "),a("a-select-option",{attrs:{value:"n"}},[t._v("不覆盖原报文头")])],1),t._v(" "),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"save",type:"primary",disabled:0===t.fileList.length,loading:t.uploading},on:{click:t.handleUpload}},[t._v("文件上传")])],1),t._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("导入日志")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[0==t.selectedRowKeys.length?a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{disabled:"",icon:"delete"},on:{click:t.deleteOperation}},[t._v("删除")]):a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:t.deleteOperation}},[t._v("删除")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:t.emptyOperation}},[t._v("清空")])],1),t._v(" "),a("div",[a("a-table",{attrs:{scroll:{y:200},pagination:{pageSize:t.pageSize,onShowSizeChange:t.onShowSizeChange,total:t.total,onChange:t.onChange},rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,dataSource:t.data}})],1)])},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(t){a("cTFL")},"data-v-44d9ebfe",null);e.default=r.exports},cTFL:function(t,e){}});
//# sourceMappingURL=47.9cd7d6b7d5681a0fdd3d.js.map