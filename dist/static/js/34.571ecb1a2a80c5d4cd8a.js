webpackJsonp([34],{"8CyB":function(e,t){},VQXh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),s=i.n(a),n=i("PHrY"),r=[{title:"服务器名称",dataIndex:"serverName",scopedSlots:{customRender:"serverName"}},{title:"IP地址",dataIndex:"serverIp"},{title:"用户",dataIndex:"userName"},{title:"in端路径",dataIndex:"inConfigPath"},{title:"out端路径",dataIndex:"outConfigPath"},{title:"状态",dataIndex:"state"},{title:"备注",dataIndex:"remark"}],o={data:function(){return{title:"新增服务器",data:[],columns:r,add_visible:!1,serverName:"",serverIp:"",userName:"",userPsw:"",inConfigPath:"",outConfigPath:"",remark:"",ischoose:0,delArray:"",ischangeone:0,isEdit:0}},computed:{rowSelection:function(){var e=this;this.selectedRowKeys;return{onChange:function(t,i){for(var a in console.log("selectedRowKeys: "+t,"selectedRows: ",i),0==i.length?e.ischoose=0:e.ischoose=1,e.delArray="",i)e.delArray+=i[a].serverId+",";1==i.length?(e.ischangeone=1,e.serverName=i[0].serverName,e.serverIp=i[0].serverIp,e.userName=i[0].userName,e.userPsw=i[0].userPsw,e.inConfigPath=i[0].inConfigPath,e.outConfigPath=i[0].outConfigPath,e.remark=i[0].remark):e.ischangeone=0},getCheckboxProps:function(e){return{props:{disabled:"Disabled User"===e.name,name:e.name}}}}}},created:function(){this.getServer_List()},methods:{showConfirm:function(){var e=this;this.$confirm({title:"是否确认要删除?",content:"按下确认后，所选内容将在1秒钟后删除",okText:"确认",cancelText:"取消",keyboard:!1,onOk:function(){return e.delesb_Server(),new s.a(function(e,t){setTimeout(Math.random()>.5?e:t,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},open:function(){this.isEdit=0,this.add_visible=!0,this.title="新增服务器",serverName="",serverIp="",userName="",userPsw="",inConfigPath="",outConfigPath="",remark=""},edit:function(){this.isEdit=1,this.add_visible=!0,this.title="修改服务器"},empty_ipt:function(){this.serverName="",this.serverIp="",this.userName="",this.userPsw="",this.inConfigPath="",this.outConfigPath="",this.remark=""},addesb_Server:function(){var e=this,t=this;1==this.isEdit?this.edit_esb():Object(n.f)({serverName:t.serverName,serverIp:t.serverIp,userName:t.userName,userPsw:t.userPsw,inConfigPath:t.inConfigPath,outConfigPath:t.outConfigPath,remark:t.remark}).then(function(i){200==i.returnCode&&(t.add_visible=!1,t.getServer_List(),e.empty_ipt())})},edit_esb:function(){var e=this,t=this,i=t.delArray,a={serverId:i=i.substring(0,i.length-1),serverName:t.serverName,serverIp:t.serverIp,userName:t.userName,userPsw:t.userPsw,inConfigPath:t.inConfigPath,outConfigPath:t.outConfigPath,remark:t.remark};this.$store.state.getMoreDataPost("/esbServer/saveEdit",a,function(i){t.add_visible=!1,t.getServer_List(),e.empty_ipt()})},delesb_Server:function(){var e=this,t=e.delArray;t=t.substring(0,t.length-1),Object(n.o)({serverId:t}).then(function(t){200==t.returnCode&&e.getServer_List()})},getServer_List:function(){var e=this;Object(n.F)().then(function(t){e.data=t.data})},save:function(){var e=[{name:this.name,funcName:this.chineseName,des:this.desc}];addAttr({name:this.name,funcName:this.chineseName,des:this.desc,attFunction:e}).then(function(e){e.returnCode})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("所有ESB应用服务器")]),e._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:e.open}},[e._v("新增")]),e._v(" "),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit",disabled:0==e.ischangeone},on:{click:e.edit}},[e._v("修改")]),e._v(" "),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",disabled:0==e.ischoose},on:{click:e.showConfirm}},[e._v("删除")])],1),e._v(" "),i("div",[i("a-table",{attrs:{rowSelection:e.rowSelection,columns:e.columns,dataSource:e.data},scopedSlots:e._u([{key:"name",fn:function(t){return i("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])}}])})],1),e._v(" "),i("a-modal",{attrs:{title:e.title,okText:"保存",cancelText:"取消"},on:{ok:e.addesb_Server},model:{value:e.add_visible,callback:function(t){e.add_visible=t},expression:"add_visible"}},[i("ul",[i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         服务器名称：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入服务器名称"},model:{value:e.serverName,callback:function(t){e.serverName=t},expression:"serverName"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n        服务器IP：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入服务器IP"},model:{value:e.serverIp,callback:function(t){e.serverIp=t},expression:"serverIp"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         服务器用户：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入服务器用户"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         用户密码： "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入用户密码"},model:{value:e.userPsw,callback:function(t){e.userPsw=t},expression:"userPsw"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         in端路径：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入in端路径"},model:{value:e.inConfigPath,callback:function(t){e.inConfigPath=t},expression:"inConfigPath"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         out端路径：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入out端路径"},model:{value:e.outConfigPath,callback:function(t){e.outConfigPath=t},expression:"outConfigPath"}})],1),e._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[e._v("\n         备注：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入备注"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)])])],1)},staticRenderFns:[]};var c=i("VU/8")(o,l,!1,function(e){i("8CyB")},"data-v-6396fedb",null);t.default=c.exports}});
//# sourceMappingURL=34.571ecb1a2a80c5d4cd8a.js.map