webpackJsonp([9,67],{COYU:function(t,e){},YdRS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("VU/8")(null,null,!1,null,null,null);e.default=o.exports},"l/y8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[{title:"项目名称",dataIndex:"proName",scopedSlots:{customRender:"proName"}},{title:"内部序号",dataIndex:"insideNum"},{title:"项目发起人",dataIndex:"proSponsor"},{title:"项目联系人",dataIndex:"proLeader"},{title:"项目状态",dataIndex:"proState"},{title:"项目属性",dataIndex:"proAttr"},{title:"计划上线时间",dataIndex:"planOnline"},{title:"操作",dataIndex:""}],n=[{title:"操作人",dataIndex:"userId"},{title:"异常",dataIndex:"detail"}],i={data:function(){var t=this;return{data:[],dataLog:[],columns:o,columnsLog:n,systemDate:[],projectName:"",add_project:!1,wh_project:!1,pl_project:!1,view_log:!1,systemDetail:"",rowSelection:{type:"radio",onSelect:function(e,a){console.log(e),t.systemDetail=e}},project:{projectAttr:"",projectNum:"",projectName:"",projectSponsor:"",projectLeader:"",planUatTime:"",planOnlineTime:"",svnAddress:"",projectDesc:"",projectRemark:"",inSideNum:""},tc:{isStandard:"",serDesc:"",consumerEreturnCode:"",consumerSystem:"",providerEreturnCode:"",providerSystem:"",serType:"",govPerson:"",soId:"",remark:""}}},computed:{},mounted:function(){this.getAllProjects(),this.getProjectName("")},methods:{goTo:function(){this.$router.push({path:"/platform"})},getAllProjects:function(){var t=this;this.$store.state.getMoreDataGet("/pgm/getAllProjects",{},function(e){var a=e.data;a.map(function(e,a){t.$set(e,"key",a)}),t.data=a})},getProjectName:function(t){var e=this,a={projectName:t};this.$store.state.getMoreDataGet("/pcc/getProjectName",a,function(t){var a=t.data;a.map(function(t,a){e.$set(t,"key",a)}),e.systemDate=a})},selectProjectNameBy:function(t,e,a){var o=this,n={projectName:t,starTtime:e,endTime:a};this.$store.state.getMoreDataGet("/pgm/selectProjectNameBy",n,function(t){var e=t.data;e.map(function(t,e){o.$set(t,"key",e)}),o.data=e})},changeName:function(t){this.projectName=t},changeprojectAttr:function(t){this.project.projectAttr=t},changeisStandard:function(t){this.tc.isStandard=t},changeserType:function(t){this.tc.serType=t},inquire:function(){this.selectProjectNameBy(this.projectName,"","")},empty:function(){this.projectName=""},uatTime:function(t){this.project.planUatTime=new Date(t).getFullYear()+"-"+Number(new Date(t).getMonth()+1)+"-"+new Date(t).getDate()},onlineTime:function(t){this.project.planOnlineTime=new Date(t).getFullYear()+"-"+Number(new Date(t).getMonth()+1)+"-"+new Date(t).getDate()},checkSystem:function(){this.$emit("goDetail","")},addProjectModal:function(){this.add_project=!0},whProjectModal:function(){""!=this.systemDetail&&void 0!=this.systemDetail?this.wh_project=!0:this.$message.warn("请选择需要维护的项目")},plProjectModal:function(){this.pl_project=!0},viewlogModal:function(){this.view_log=!0,this.getAllLogs()},addProject:function(){var t=this;if(""!=this.project.projectAttr)if(""!=this.project.projectName)if(""!=this.project.projectSponsor){var e=this.project;this.$store.state.getMoreDataPost("/pgm/addProject",e,function(e){t.getAllProjects(),t.add_project=!1})}else this.$message.warn("项目发起人不能为空");else this.$message.warn("项目名称不能为空");else this.$message.warn("请选择项目类型")},whProject:function(){var t=this;if(""!=this.tc.isStandard)if(""!=this.tc.serType)if(""!=this.tc.providerSystem){var e="/pgm/maintenanceProject?proName=proName:"+this.systemDetail.proName,a=this.tc;console.log(a);this.$store.state.getMoreDataPost(e,a,function(e){t.wh_project=!1})}else this.$message.warn("提供方服务简称不能为空");else this.$message.warn("请选择服务类型");else this.$message.warn("请选择是否标准")},plProject:function(){},getAllLogs:function(){var t=this;this.$store.state.getMoreDataGet("/pgm/getAllLogs",{},function(e){var a=e.data;a.map(function(e,a){t.$set(e,"key",a)}),t.dataLog=a})},deleteLog:function(){var t=this;this.$store.state.getMoreDataDelete("/pgm/delLogs",{},function(e){t.getAllLogs()})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("查询条件")]),t._v(" "),a("ul",{staticClass:"flex"},[a("li",{staticClass:"flex"},[t._v("\n            项目名称\n            "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入",showSearch:"",optionFilterProp:"children"},on:{change:t.changeName},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}},t._l(t.systemDate,function(e){return a("a-select-option",{key:e.projectName},[t._v(t._s(e.projectName))])}),1)],1),t._v(" "),a("li",{staticClass:"flex"},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:t.inquire}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",type:"primary"},on:{click:t.empty}},[t._v("重置")])],1)]),t._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("项目管理列表")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"flex"},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:t.addProjectModal}},[t._v("新增项目")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit"},on:{click:t.whProjectModal}},[t._v("维护项目")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search"},on:{click:t.checkSystem}},[t._v("查看系统")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit"},on:{click:t.plProjectModal}},[t._v("批量维护")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search"},on:{click:t.viewlogModal}},[t._v("查看日志")])],1),t._v(" "),a("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索"}})],1),t._v(" "),a("div",[a("a-table",{attrs:{rowSelection:t.rowSelection,columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"name",fn:function(e){return a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}}])})],1),t._v(" "),a("a-modal",{attrs:{title:"新增项目",okText:"保存",cancelText:"取消"},on:{ok:t.addProject},model:{value:t.add_project,callback:function(e){t.add_project=e},expression:"add_project"}},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                项目类型  "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:"请选择类型"},on:{change:t.changeprojectAttr},model:{value:t.project.projectAttr,callback:function(e){t.$set(t.project,"projectAttr",e)},expression:"project.projectAttr"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("\n                    新起\n                    ")]),t._v(" "),a("a-select-option",{attrs:{value:"1"}},[t._v("\n                    维护\n                    ")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                项目编号 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"可以为空"},model:{value:t.project.projectNum,callback:function(e){t.$set(t.project,"projectNum",e)},expression:"project.projectNum"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                项目名称 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.projectName,callback:function(e){t.$set(t.project,"projectName",e)},expression:"project.projectName"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                内部序号 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"可以先不填"},model:{value:t.project.inSideNum,callback:function(e){t.$set(t.project,"inSideNum",e)},expression:"project.inSideNum"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                项目发起人 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.projectSponsor,callback:function(e){t.$set(t.project,"projectSponsor",e)},expression:"project.projectSponsor"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                项目联系人 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.projectLeader,callback:function(e){t.$set(t.project,"projectLeader",e)},expression:"project.projectLeader"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                计划UAT时间 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-date-picker",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"选择日期"},on:{change:t.uatTime}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                计划上线时间 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-date-picker",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"选择日期"},on:{change:t.onlineTime}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                相关材料SVN路径 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-textarea",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.svnAddress,callback:function(e){t.$set(t.project,"svnAddress",e)},expression:"project.svnAddress"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                需求描述 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-textarea",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.projectDesc,callback:function(e){t.$set(t.project,"projectDesc",e)},expression:"project.projectDesc"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                备注 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-textarea",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.project.projectRemark,callback:function(e){t.$set(t.project,"projectRemark",e)},expression:"project.projectRemark"}})],1)])]),t._v(" "),a("a-modal",{attrs:{title:"维护项目",okText:"保存",cancelText:"取消"},on:{ok:t.whProject},model:{value:t.wh_project,callback:function(e){t.wh_project=e},expression:"wh_project"}},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px",width:"85%"}},[a("font",{attrs:{color:"#ff0000"}},[t._v("*注：录入的时候均面向提供方")])],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                是否标准  "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:"请选择"},on:{change:t.changeisStandard},model:{value:t.tc.isStandard,callback:function(e){t.$set(t.tc,"isStandard",e)},expression:"tc.isStandard"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("\n                    标准\n                    ")]),t._v(" "),a("a-select-option",{attrs:{value:"1"}},[t._v("\n                    非标准\n                    ")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                服务场景描述"),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.serDesc,callback:function(e){t.$set(t.tc,"serDesc",e)},expression:"tc.serDesc"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                消费方交易码 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.consumerEreturnCode,callback:function(e){t.$set(t.tc,"consumerEreturnCode",e)},expression:"tc.consumerEreturnCode"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                消费方系统简称 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.consumerSystem,callback:function(e){t.$set(t.tc,"consumerSystem",e)},expression:"tc.consumerSystem"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                提供方交易码 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.providerEreturnCode,callback:function(e){t.$set(t.tc,"providerEreturnCode",e)},expression:"tc.providerEreturnCode"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                提供方系统简称 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.providerSystem,callback:function(e){t.$set(t.tc,"providerSystem",e)},expression:"tc.providerSystem"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                服务类型 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:"请选择"},on:{change:t.changeserType},model:{value:t.tc.serType,callback:function(e){t.$set(t.tc,"serType",e)},expression:"tc.serType"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("\n                    新增\n                    ")]),t._v(" "),a("a-select-option",{attrs:{value:"1"}},[t._v("\n                    复用\n                    ")]),t._v(" "),a("a-select-option",{attrs:{value:"2"}},[t._v("\n                    修改\n                    ")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                服务治理负责人 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.govPerson,callback:function(e){t.$set(t.tc,"govPerson",e)},expression:"tc.govPerson"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                关联服务场景码 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"历史交易不支持录入",disabled:"disabled"},model:{value:t.tc.soId,callback:function(e){t.$set(t.tc,"soId",e)},expression:"tc.soId"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n                备注 "),a("font",{attrs:{color:"#ff0000"}}),t._v(" "),a("a-textarea",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.tc.remark,callback:function(e){t.$set(t.tc,"remark",e)},expression:"tc.remark"}})],1)])]),t._v(" "),a("a-modal",{attrs:{title:"批量维护",okText:"确认",cancelText:"取消"},on:{ok:t.plProject},model:{value:t.pl_project,callback:function(e){t.pl_project=e},expression:"pl_project"}},[a("div",{staticClass:"title"},[t._v("请选择要导入的Excel文件：")]),t._v(" "),a("div",{staticStyle:{display:"-webkit-flex"}},[a("a-upload",{attrs:{name:"file",multiple:!0}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" 上传文件 ")],1)],1)],1)]),t._v(" "),a("a-modal",{attrs:{title:"日志查看",okText:"清除日志",cancelText:"取消"},on:{ok:t.deleteLog},model:{value:t.view_log,callback:function(e){t.view_log=e},expression:"view_log"}},[a("div",[a("a-table",{attrs:{columns:t.columnsLog,dataSource:t.dataLog},scopedSlots:t._u([{key:"name",fn:function(e){return a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}}])})],1)])],1)},staticRenderFns:[]};var c={data:function(){var t=[{title:"项目管理主页",content:"",key:"1"}];return{activeKey:t[0].key,panes:t,newTabIndex:0,detailData:""}},components:{projectManage:a("VU/8")(i,s,!1,function(t){a("oYDb")},"data-v-f9680b76",null).exports,detailProject:a("YdRS").default},computed:{},methods:{goDetail:function(t){this.detailData=t;var e=this.panes,a="/detailProject",o=0;e.map(function(t,e){t.key==a&&(o=1)}),1==o?this.activeKey=a:(e.push({title:t.userName+"-系统详情",content:"Content of new Tab "+a,key:a}),this.panes=e,this.activeKey=a)},onChange:function(t){if("1"==t){this.$router.push("/myworkspace/project")}else this.$router.push(t)},onEdit:function(t,e){this[e](t)},remove:function(t){var e=this.activeKey,a=void 0;this.panes.forEach(function(e,o){e.key===t&&(a=o-1)});var o=this.panes.filter(function(e){return e.key!==t});a>=0&&e===t&&(e=o[a].key),this.panes=o,this.activeKey=e}},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-tabs",{style:{margin:0,minHeight:"280px",width:"100%"},attrs:{type:"editable-card",hideAdd:""},on:{edit:t.onEdit,change:t.onChange},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.panes,function(e){return a("a-tab-pane",{key:e.key,staticStyle:{"overflow-y":"scroll",maxHeight:"'100px"},attrs:{tab:e.title,closable:"1"!=e.key}},["1"==e.key?a("project-manage",{on:{goDetail:t.goDetail}}):"/detailProject"==e.key?a("detail-project",{attrs:{propsdetail:t.detailData}}):t._e()],1)}),1)],1)},staticRenderFns:[]};var l=a("VU/8")(c,r,!1,function(t){a("COYU")},"data-v-06287dfd",null);e.default=l.exports},oYDb:function(t,e){}});
//# sourceMappingURL=9.6dfbda04dea8f245a5c1.js.map