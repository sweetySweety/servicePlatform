webpackJsonp([39],{bh3h:function(t,e){},q3PH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=[{title:"接口id",dataIndex:"interfaceId"},{title:"交易码",dataIndex:"ecode"},{title:"交易名称",dataIndex:"interfaceName"},{title:"接口功能描述",dataIndex:"desc"},{title:"报文头",dataIndex:"protocolName"},{title:"接口协议",dataIndex:"protocolName"},{title:"状态",dataIndex:"status"},{title:"版本号",dataIndex:"version.code"},{title:"修订时间",dataIndex:"optDate"},{title:"更新用户",dataIndex:"optUser"}],i=[],n={components:{ATextarea:a("ufx+").a},props:["sendSystemId"],data:function(){return{data:i,columns:s,isChange:!0,addModel:!1,title:"",title_bind:"绑定报文头",is_showBindModel:!1,isEdit:0,currentPage:1,pageSize:10,total:10,headList:[],sinterfaceId:"",sdesc:"",sinterfaceTag:"",sheadId:"",sprotocolId:"",sstatus:"",sinterfaceName:"",secode:"",interType:0,listsystemId:this.sendSystemId,interfaceIdStr:"",interfaceName:"",ecode:"",desc:"",status:"",systemId:"",protocolName:"",serviceInvoke:"",isStandard:"",type:"",protocolId:""}},computed:{rowSelection:function(){var t=this;this.selectedRowKeys;return{onChange:function(e,a){console.log("selectedRowKeys: "+e,"selectedRows: ",a),1==a.length?(t.isChange=!1,t.interfaceIdStr=a[0].interfaceId,t.interfaceName=a[0].interfaceName,t.ecode=a[0].ecode,t.desc=a[0].desc,t.isStandard=a[0].isStandard,t.type=a[0].type,t.protocolId=a[0].protocolId,t.status=a[0].status):t.isChange=!0},getCheckboxProps:function(t){return{props:{disabled:"Disabled User"===t.name,name:t.name}}}}}},mounted:function(){this.searchInterfaceList()},methods:{goNewspaper:function(){this.$emit("goNewspaper","")},goAgreementManage:function(){this.$emit("goAgreementManage","")},goFileManage:function(){this.$emit("goFileManage","")},goSystemInfoList:function(){this.$emit("goSystemInfoList","")},onPageChange:function(t){this.currentPage=t,this.searchInterfaceList()},onShowSizeChange:function(t,e){console.log(t,e)},showConfirm:function(){var t=this;this.$confirm({title:"是否确认要删除?",content:"按下确认后，所选内容将在1秒钟后删除",okText:"确认",cancelText:"取消",keyboard:!1,onOk:function(){t.deleteInterface()},onCancel:function(){}})},showAddModel:function(){this.title="新增接口",this.addModel=!0,this.isEdit=0,this.emptyAddipt()},showEditModel:function(){this.title="修改接口",this.addModel=!0,this.isEdit=1},saveOperation:function(){1==this.isEdit?this.editSystem():this.addSystem()},emptyAddipt:function(){this.interfaceIdStr="",this.interfaceName="",this.ecode="",this.desc="",this.systemId="",this.isStandard="",this.type="",this.protocolId="",this.status=""},emptyIpt:function(){this.sinterfaceId="",this.sdesc="",this.sinterfaceTag="",this.sheadId="",this.sprotocolId="",this.sstatus="",this.sinterfaceName="",this.secode=""},addSystem:function(){var t=this,e=[{ecode:this.ecode,isStandard:this.isStandard,type:this.type,systemId:this.listsystemId,protocolId:this.protocolId}],a={interfaceName:this.interfaceName,ecode:this.ecode,desc:this.desc,systemId:this.listsystemId,isStandard:this.isStandard,type:this.type,status:this.status,protocolId:this.protocolId,serviceInvoke:e};this.$store.state.getMoreDataPost("/interface/add",a,function(e){t.addModel=!1,t.searchInterfaceList()})},editSystem:function(){var t=this,e={interfaceId:this.interfaceIdStr,interfaceName:this.interfaceName,ecode:this.ecode,desc:this.desc,systemId:this.listsystemId,isStandard:this.isStandard,status:this.status,type:this.type,protocolId:this.protocolId,serviceInvoke:[{ecode:this.ecode,isStandard:this.isStandard,type:this.type,systemId:this.listsystemId,protocolId:this.protocolId}]};this.$store.state.getMoreDataPost("/interface/update",e,function(e){t.addModel=!1,t.searchInterfaceList()})},showBindModel:function(){this.is_showBindModel=!0},saveBind:function(){this.bindHeadMsg()},bindHeadMsg:function(){var t={interfaceId:this.interfaceIdStr,headIds:this.headIds};this.$store.state.getMoreDataGet("/interface/headRelate",t,function(t){})},deleteInterface:function(){var t=this,e={interfaceId:this.interfaceIdStr};this.$store.state.getMoreDataDelete("/interface/delete",e,function(e){t.searchInterfaceList()})},searchInterfaceList:function(){var t=this,e={pageNo:this.currentPage,rowNo:this.pageSize,interfaceId:this.sinterfaceId,systemId:this.listsystemId,interType:this.interType,desc:this.sdesc,interfaceTag:this.sinterfaceTag,headId:this.sheadId,protocolId:this.sprotocolId,status:this.sstatus,interfaceName:this.sinterfaceName,ecode:this.secode};this.$store.state.getMoreDataPost("/interface/getAllInterface",e,function(e){var a=e.data;t.data=a.row,t.total=a.resultCount})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("条件搜索")]),t._v(" "),a("ul",{staticClass:"flex"},[a("li",{staticClass:"flex"},[t._v("\n            交易码\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.secode,callback:function(e){t.secode=e},expression:"secode"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n               交易名称\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.sinterfaceName,callback:function(e){t.sinterfaceName=e},expression:"sinterfaceName"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n            接口功能描述\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.sdesc,callback:function(e){t.sdesc=e},expression:"sdesc"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n            状态\n               "),a("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.sstatus,callback:function(e){t.sstatus=e},expression:"sstatus"}},[a("a-select-option",{key:3,attrs:{value:"http"}},[t._v("http")]),t._v(" "),a("a-select-option",{key:4,attrs:{value:"post"}},[t._v("post")])],1)],1)]),t._v(" "),a("ul",{staticClass:"flex"},[a("li",{staticClass:"flex"},[t._v("\n            接口ID\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.sinterfaceId,callback:function(e){t.sinterfaceId=e},expression:"sinterfaceId"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n            接口标签\n               "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.sinterfaceTag,callback:function(e){t.sinterfaceTag=e},expression:"sinterfaceTag"}})],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n        报文头\n        "),a("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.sheadId,callback:function(e){t.sheadId=e},expression:"sheadId"}},t._l(t.headList,function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.text))])}),1)],1),t._v(" "),a("li",{staticClass:"flex"},[t._v("\n        通讯协议\n        "),a("a-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.protocolId,callback:function(e){t.protocolId=e},expression:"protocolId"}},[a("a-select-option",{key:3,attrs:{value:"http"}},[t._v("http")]),t._v(" "),a("a-select-option",{key:4,attrs:{value:"post"}},[t._v("post")])],1)],1),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search"},on:{click:t.searchInterfaceList}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete"},on:{click:t.emptyIpt}},[t._v("清空")])],1),t._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("基本信息维护")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit"},on:{click:t.showAddModel}},[t._v("新增")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit",disabled:t.isChange},on:{click:t.showEditModel}},[t._v("修改")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",disabled:t.isChange},on:{click:t.showConfirm}},[t._v("删除")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"file",disabled:t.isChange},on:{click:t.showBindModel}},[t._v("绑定报文头")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"file"},on:{click:t.goNewspaper}},[t._v("导出")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"file"},on:{click:t.goSystemInfoList}},[t._v("历史版本")]),t._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"file"},on:{click:t.goAgreementManage}},[t._v("接口历史记录")])],1),t._v(" "),a("div",[a("a-table",{attrs:{rowSelection:t.rowSelection,pagination:{pageSize:t.pageSize,onShowSizeChange:t.onShowSizeChange,total:t.total,onChange:t.onPageChange},columns:t.columns,dataSource:t.data}})],1),t._v(" "),a("a-modal",{attrs:{title:t.title_bind,okText:"保存",cancelText:"取消",width:"450px"},on:{ok:t.saveBind},model:{value:t.is_showBindModel,callback:function(e){t.is_showBindModel=e},expression:"is_showBindModel"}},[a("div",{staticClass:"graybox"},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("接口ID：")]),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{disabled:"true",placeholder:""},model:{value:t.interfaceIdStr,callback:function(e){t.interfaceIdStr=e},expression:"interfaceIdStr"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("报文头：")]),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("修订")])],1)],1)])])]),t._v(" "),a("a-modal",{attrs:{title:t.title,okText:"保存",cancelText:"取消",width:"450px"},on:{ok:t.saveOperation},model:{value:t.addModel,callback:function(e){t.addModel=e},expression:"addModel"}},[a("div",{staticClass:"graybox"},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("交易名称：")]),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.interfaceName,callback:function(e){t.interfaceName=e},expression:"interfaceName"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("交易码：")]),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:""},model:{value:t.ecode,callback:function(e){t.ecode=e},expression:"ecode"}})],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("状态：")]),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("修订")]),t._v(" "),a("a-select-option",{attrs:{value:"1"}},[t._v("已发布")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("调用关系：")]),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("提供方")]),t._v(" "),a("a-select-option",{attrs:{value:"0"}},[t._v("消费方")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("是否标准：")]),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.isStandard,callback:function(e){t.isStandard=e},expression:"isStandard"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),a("a-select-option",{attrs:{value:"0"}},[t._v("否")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("接口协议：")]),t._v(" "),a("a-select",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{defaultValue:""},model:{value:t.protocolId,callback:function(e){t.protocolId=e},expression:"protocolId"}},[a("a-select-option",{attrs:{value:"http"}},[t._v("http")]),t._v(" "),a("a-select-option",{attrs:{value:"post"}},[t._v("post")])],1)],1),t._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[a("font",{staticClass:"iptTitle"},[t._v("接口功能描述：")]),t._v(" "),a("a-textarea",{staticStyle:{width:"250px","margin-left":"10px"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)])])])],1)},staticRenderFns:[]};var l=a("VU/8")(n,o,!1,function(t){a("bh3h")},"data-v-5575fb08",null);e.default=l.exports}});
//# sourceMappingURL=39.c5f23205618c4399cac7.js.map