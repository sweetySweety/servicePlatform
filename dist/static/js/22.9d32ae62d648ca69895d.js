webpackJsonp([22],{HsE0:function(t,e){},x6cw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("//Fk"),a=i.n(o),n=i("PHrY"),r=[{title:"机构代码",dataIndex:"orgId",scopedSlots:{customRender:"orgId"}},{title:"机构名称",dataIndex:"orgName"},{title:"机构分类上级",dataIndex:"orgAB"},{title:"机构状态",dataIndex:"orgStatus"},{title:"机构负责人",dataIndex:"orgResponsibility"},{title:"机构备注",dataIndex:"orgRemark"}],l={data:function(){return{data:[],columns:r,add_visible:!1,title:"新增机构",ischangeone:0,orgId:"",orgName:"",orgAB:"",orgStatus:"",orgResponsibility:"",orgRemark:"",delArray:"",org_no:"",org_callname:"",addclick:0,editclick:0,ischoose:0}},created:function(){this.allorglist()},computed:{rowSelection:function(){var t=this;this.selectedRowKeys;return{onChange:function(e,i){for(var o in console.log("selectedRowKeys: "+e,"selectedRows: ",i),0==i.length?t.ischoose=0:t.ischoose=1,t.delArray="",i)t.delArray+=i[o].orgId+",";1==i.length?(t.ischangeone=1,t.orgId=i[0].orgId,t.orgName=i[0].orgName,t.orgAB=i[0].orgAB,t.orgStatus=i[0].orgStatus,t.orgResponsibility=i[0].orgResponsibility,t.orgRemark=i[0].orgRemark):t.ischangeone=0,console.log(t.delArray)},getCheckboxProps:function(t){return{props:{disabled:"Disabled User"===t.name,name:t.name}}}}}},mounted:function(){},methods:{showConfirm:function(){var t=this;this.$confirm({title:"是否确认要删除?",content:"按下确认后，所选内容将在1秒钟后删除",okText:"确认",cancelText:"取消",keyboard:!1,onOk:function(){return t.del(),new a.a(function(t,e){setTimeout(Math.random()>.5?t:e,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},del:function(){var t=this,e=t.delArray;e=e.substring(0,e.length-1),Object(n.q)({orgId:e}).then(function(e){setTimeout(function(){t.allorglist()},100)})},openchange:function(){this.title="修改机构",this.add_visible=!0,this.editclick=1,this.addclick=0},allorglist:function(){var t=this;Object(n.z)({pageNo:"1",pageSize:"10"}).then(function(e){t.data=e.data.rows})},addOrgmodoal:function(){this.add_visible=!0,this.title="新增机构",this.orgId="",this.orgName="",this.orgAB="",this.orgStatus="",this.orgResponsibility="",this.orgRemark="",this.editclick=0,this.addclick=1},addins:function(){var t=this;1==t.addclick&&0==t.editclick?Object(n.c)({orgId:t.orgId,orgName:t.orgName,orgAB:t.orgAB,orgStatus:t.orgStatus,orgResponsibility:t.orgResponsibility,orgRemark:t.orgRemark}).then(function(e){200==e.returnCode&&(t.add_visible=!1,setTimeout(function(){t.allorglist()},100))}):0==t.addclick&&1==t.editclick&&Object(n.s)({orgId:t.orgId,orgName:t.orgName,orgAB:t.orgAB,orgStatus:t.orgStatus,orgResponsibility:t.orgResponsibility,orgRemark:t.orgRemark}).then(function(e){200==e.returnCode&&(t.add_visible=!1,setTimeout(function(){t.allorglist()},100))})},searchbyid:function(){var t=this;Object(n.K)({orgId:this.org_no,orgName:this.org_callname}).then(function(e){if(console.log(e),200==e.returnCode){var i=e.data;t.data=i}else if(404==e.returnCode){var o=e.data;t.data=o}})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("条件搜索")]),t._v(" "),i("ul",{staticClass:"flex"},[i("li",{staticClass:"flex"},[t._v("\n            机构代码\n            "),i("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入机构代码"},model:{value:t.org_no,callback:function(e){t.org_no=e},expression:"org_no"}})],1),t._v(" "),i("li",{staticClass:"flex"},[t._v("\n            机构名称\n            "),i("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入机构名称"},model:{value:t.org_callname,callback:function(e){t.org_callname=e},expression:"org_callname"}})],1),t._v(" "),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"search",type:"primary"},on:{click:t.searchbyid}},[t._v("查询")])],1),t._v(" "),i("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("所有机构")]),t._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}},[i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:t.addOrgmodoal}},[t._v("新增")]),t._v(" "),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit",disabled:0==t.ischangeone},on:{click:t.openchange}},[t._v("修改")]),t._v(" "),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",disabled:0==t.ischoose},on:{click:t.showConfirm}},[t._v("删除")])],1),t._v(" "),i("div",[i("a-table",{attrs:{rowSelection:t.rowSelection,columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"orgId",fn:function(e){return i("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}}])})],1),t._v(" "),i("a-modal",{attrs:{title:t.title,okText:"保存",cancelText:"取消"},on:{ok:function(e){return t.addins()}},model:{value:t.add_visible,callback:function(e){t.add_visible=e},expression:"add_visible"}},[i("ul",[i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构代码：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构代码"},model:{value:t.orgId,callback:function(e){t.orgId=t._n(e)},expression:"orgId"}})],1),t._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构名称：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构名称"},model:{value:t.orgName,callback:function(e){t.orgName=e},expression:"orgName"}})],1),t._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构分类上级：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构分类上级"},model:{value:t.orgAB,callback:function(e){t.orgAB=e},expression:"orgAB"}})],1),t._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构状态：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构状态"},model:{value:t.orgStatus,callback:function(e){t.orgStatus=e},expression:"orgStatus"}})],1),t._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构负责人：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构负责人"},model:{value:t.orgResponsibility,callback:function(e){t.orgResponsibility=e},expression:"orgResponsibility"}})],1),t._v(" "),i("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end",width:"85%"}},[t._v("\n         机构备注：  "),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入机构备注"},model:{value:t.orgRemark,callback:function(e){t.orgRemark=e},expression:"orgRemark"}})],1)])])],1)},staticRenderFns:[]};var c=i("VU/8")(l,s,!1,function(t){i("HsE0")},"data-v-b6d6520e",null);e.default=c.exports}});
//# sourceMappingURL=22.9d32ae62d648ca69895d.js.map