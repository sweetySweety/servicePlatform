webpackJsonp([15],{"+ozW":function(e,t){},adPB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),o=a("PHrY"),l=[{title:"角色代码",dataIndex:"id",scopedSlots:{customRender:"id"}},{title:"角色名称",dataIndex:"name"},{title:"角色号码",dataIndex:"remark"}],r={data:function(){return{columns:l,data:[],id:"",name:"",remark:"",add_visible:!1,delArray:"",ischangeone:0,title:"新增角色",ischoose:0,pageSize:5,currentPage:1,total:7,roleId:"",roleName:"",roleRemark:""}},computed:{rowSelection:function(){var e=this,t=this;this.selectedRowKeys;return{onChange:function(a,n){for(var i in 0==n.length?t.ischoose=0:t.ischoose=1,console.log("selectedRowKeys: "+a,"selectedRows: ",n),t.delArray="",n)t.delArray+=n[i].id+",";console.log(t.delArray),1==n.length?(e.ischangeone=1,e.id=n[0].id,e.name=n[0].name):e.ischangeone=0},getCheckboxProps:function(e){return{props:{disabled:"Disabled User"===e.name,name:e.name}}}}}},mounted:function(){var e=this;Object(o.A)({pageNo:this.currentPage,rowNo:this.pageSize}).then(function(t){200==t.returnCode&&(e.data=t.data.row,e.total=t.data.resultCount)})},methods:{emptyIpt:function(){this.roleName="",this.roleId="",this.roleRemark=""},onpageChange:function(e){var t=this.pageSize;this.currentPage=e,this.getAllRole(e,t)},onShowSizeChange:function(e,t){console.log(e,t)},openchange:function(){this.title="修改角色",this.add_visible=!0},showConfirm:function(){var e=this;e.$confirm({title:"是否确认要删除?",content:"按下确认后，所选内容将在1秒钟后删除",okText:"确认",cancelText:"取消",keyboard:!1,onOk:function(){return e.roleDelete(),new i.a(function(e,t){setTimeout(Math.random()>.5?e:t,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},add_open:function(){this.add_visible=!0,this.id="",this.name="",this.remark=""},roleDelete:function(){var e=this,t=e.delArray;t=t.substring(0,t.length-1),Object(o.n)({roleId:t}).then(function(t){console.log(t),setTimeout(function(){Object(o.A)({pageNo:"1",pageSize:"10"}).then(function(t){e.data=t.data})},1e3)})},roleAdd:function(){var e=this;Object(o.d)({id:e.id,name:e.name,remark:e.remark}).then(function(t){200==t.returnCode&&(e.add_visible=!1,setTimeout(function(){Object(o.A)({pageNo:"1",pageSize:"10"}).then(function(t){e.data=t.data})},100))})},searchRole:function(){var e=this,t={roleId:this.roleId,name:this.roleName,remark:this.roleRemark};this.$store.state.getMoreDataStringPost("/role/query",t,function(t){e.data=t.data})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("条件搜索")]),e._v(" "),a("ul",{staticClass:"flex"},[a("li",{staticClass:"flex"},[e._v("\n            角色代码\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入角色代码"},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}})],1),e._v(" "),a("li",{staticClass:"flex"},[e._v("\n            角色名称\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入角色名称"},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}})],1),e._v(" "),a("li",{staticClass:"flex"},[e._v("\n            角色描述\n            "),a("a-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请输入角色描述"},model:{value:e.roleRemark,callback:function(t){e.roleRemark=t},expression:"roleRemark"}})],1),e._v(" "),a("a-button",{staticStyle:{"margin-right":"10px","margin-left":"20px"},attrs:{icon:"search",type:"primary"},on:{click:e.searchRole}},[e._v("搜索角色")]),e._v(" "),a("a-button",{attrs:{icon:"close"},on:{click:e.emptyIpt}},[e._v("清空")])],1),e._v(" "),a("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("所有角色")]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"plus"},on:{click:e.add_open}},[e._v("新增")]),e._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"edit",disabled:0==e.ischangeone},on:{click:e.openchange}},[e._v("修改")]),e._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"delete",disabled:0==e.ischoose},on:{click:function(t){return e.showConfirm()}}},[e._v("删除")]),e._v(" "),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"laptop",disabled:0==e.ischangeone}},[e._v("权限分配")])],1),e._v(" "),a("div",[a("a-table",{attrs:{rowSelection:e.rowSelection,columns:e.columns,dataSource:e.data,pagination:{pageSize:e.pageSize,onShowSizeChange:e.onShowSizeChange,total:e.total,onChange:e.onpageChange}},scopedSlots:e._u([{key:"id",fn:function(t){return a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])}}])})],1),e._v(" "),a("a-modal",{attrs:{title:e.title,okText:"保存","keyboard:false":"",cancelText:"取消",width:"450px"},on:{ok:e.roleAdd},model:{value:e.add_visible,callback:function(t){e.add_visible=t},expression:"add_visible"}},[a("div",[a("div",{staticClass:"graybox"},[a("ul",[a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[e._v("角色代码"),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入角色代码"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[e._v("角色名称"),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入角色名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",{staticClass:"flex",staticStyle:{"margin-bottom":"10px"}},[e._v("角色描述"),a("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"请输入角色描述"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)])])])])],1)},staticRenderFns:[]};var c=a("VU/8")(r,s,!1,function(e){a("+ozW")},"data-v-e3b50c92",null);t.default=c.exports}});
//# sourceMappingURL=15.35dd439b58c54b75ba01.js.map